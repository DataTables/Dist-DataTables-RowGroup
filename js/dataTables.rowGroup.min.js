/*!
 RowGroup 1.0.3
 Â©2017-2018 SpryMedia Ltd - datatables.net/license
*/
(function(b){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(d){return b(d,window,document)}):"object"===typeof exports?module.exports=function(d,i){d||(d=window);if(!i||!i.fn.dataTable)i=require("datatables.net")(d,i).$;return b(i,d,d.document)}:b(jQuery,window,document)})(function(b,d,i,h){var e=b.fn.dataTable,g=function(a,c){if(!e.versionCheck||!e.versionCheck("1.10.8"))throw"RowGroup requires DataTables 1.10.8 or newer";this.c=b.extend(!0,{},e.defaults.rowGroup,
g.defaults,c);this.s={dt:new e.Api(a),dataFn:[]};for(var k=0;k<this.c.dataSrc.length;k++)this.s.dataFn.push(e.ext.oApi._fnGetObjectDataFn(this.c.dataSrc[k]));this.dom={};var k=this.s.dt.settings()[0],f=k.rowGroup;if(f)return f;k.rowGroup=this;this._constructor()};b.extend(g.prototype,{dataSrc:function(a){if(a===h)return this.c.dataSrc;var c=this.s.dt;this.c.dataSrc=a;this.s.dataFn=e.ext.oApi._fnGetObjectDataFn(this.c.dataSrc);b(c.table().node()).triggerHandler("rowgroup-datasrc.dt",[c,a]);return this},
disable:function(){this.c.enable=!1;return this},enable:function(a){if(!1===a)return this.disable();this.c.enable=!0;return this},_constructor:function(){var a=this,c=this.s.dt,b=[];c.rows().every(function(){var c=this.data(),c=a.s.dataFn(c);-1==b.indexOf(c)&&b.push(c)});c.on("draw.dtrg",function(){a.c.enable&&a._draw()});c.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",function(){a._adjustColspan()});c.on("destroy",function(){c.off(".dtrg")});c.on("responsive-resize.dt",function(){a._adjustColspan()})},
_adjustColspan:function(){b("tr."+this.c.className,this.s.dt.table().body()).find("td").attr("colspan",this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce(function(a,c){return a+c},0)},_draw:function(){for(var a=this.s.dataFn,c=0;c<a.length;c++){var b=this.s.dt,f=[],e,m,d;b.rows({page:"current"}).every(function(){var b=this.data(),d=a[c](b),b=0<c?a[c-1](b):h;if(e===h||d!==e||b!==h&&m===h||b!==h&&b!==m)f.push([]),e=d,b!==h?m=b:m=h;f[f.length-1].push(this.index())});for(var g=
0,i=f.length;g<i;g++){var j=f[g],n=b.row(j[0]),l=a[c](n.data()),l=(d=this.s.dt.columns().header()[this.c.dataSrc[c]].innerText.capitalize())?d+": "+l:l,o=0===c?this.c.startClassName+"-"+c:"subgroup-"+c;this.c.startRender&&(d=this.c.startRender.call(this,b.rows(j),l),this._rowWrap(d,o,j,c).insertBefore(n.node()));this.c.endRender&&(d=this.c.endRender.call(this,b.rows(j),l),this._rowWrap(d,this.c.endClassName,j,c).insertAfter(b.row(j[j.length-1]).node()))}}},_rowWrap:function(a,c){var d;if(null===a||
a===h||""===a)a=this.c.emptyDataGroup;if(null===a)return null;d="object"===typeof a&&a.nodeName&&"tr"===a.nodeName.toLowerCase()?b(a):a instanceof b&&a.length&&"tr"===a[0].nodeName.toLowerCase()?a:b("<tr/>").append(b("<td/>").attr("colspan",this._colspan()).append(a));d.addClass(this.c.className).addClass(c).css("cursor","pointer");b(d).on("click",function(){var a=b(this).next(),c=!0;b(this).data("colapsed")?(b(this).data("colapsed",!1),c=!1):(b(this).data("colapsed",!0),c=!0);if(-1!==b(this).attr("class").split(" ").map(function(a){return a.indexOf("group-start-")!==
-1}).indexOf(!0))for(;b(a).attr("class")&&-1===b(a).attr("class").split(" ").map(function(a){return a.indexOf("group-start-")!==-1}).indexOf(!0);)c?b(a).hide(400):b(a).show(400),a=b(a).next();else for(;b(a).attr("class")&&-1===b(a).attr("class").split(" ").map(function(a){return a.indexOf("subgroup")!==-1}).indexOf(!0)&&-1===b(a).attr("class").split(" ").map(function(a){return a.indexOf("group-start-")!==-1}).indexOf(!0);)c?b(a).hide(400):b(a).show(400),a=b(a).next()});return d}});g.defaults={className:"group",
dataSrc:0,emptyDataGroup:"No group",enable:!0,endClassName:"group-end",endRender:null,startClassName:"group-start",startRender:function(a,b){return b}};g.version="1.0.3";b.fn.dataTable.RowGroup=g;b.fn.DataTable.RowGroup=g;e.Api.register("rowGroup()",function(){return this});e.Api.register("rowGroup().disable()",function(){return this.iterator("table",function(a){a.rowGroup&&a.rowGroup.enable(!1)})});e.Api.register("rowGroup().enable()",function(a){return this.iterator("table",function(b){b.rowGroup&&
b.rowGroup.enable(a===h?!0:a)})});e.Api.register("rowGroup().dataSrc()",function(a){return a===h?this.context[0].rowGroup.dataSrc():this.iterator("table",function(b){b.rowGroup&&b.rowGroup.dataSrc(a)})});b(i).on("preInit.dt.dtrg",function(a,c){if("dt"===a.namespace){var d=c.oInit.rowGroup,f=e.defaults.rowGroup;if(d||f)f=b.extend({},f,d),!1!==d&&new g(c,f)}});return g});
