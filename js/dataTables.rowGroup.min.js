/*!
 RowGroup 1.0.3-dev
 Â©2017 SpryMedia Ltd - datatables.net/license
*/
(function(c){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(d){return c(d,window,document)}):"object"===typeof exports?module.exports=function(d,f){d||(d=window);if(!f||!f.fn.dataTable)f=require("datatables.net")(d,f).$;return c(f,d,d.document)}:c(jQuery,window,document)})(function(c,d,f,h){var e=c.fn.dataTable,g=function(b,a){if(!e.versionCheck||!e.versionCheck("1.10.8"))throw"RowGroup requires DataTables 1.10.8 or newer";this.c=c.extend(!0,{},e.defaults.rowGroup,
g.defaults,a);this.s={dt:new e.Api(b),dataFn:e.ext.oApi._fnGetObjectDataFn(this.c.dataSrc)};this.dom={};var j=this.s.dt.settings()[0],k=j.rowGroup;if(k)return k;j.rowGroup=this;this._constructor()};c.extend(g.prototype,{dataSrc:function(b){if(b===h)return this.c.dataSrc;var a=this.s.dt;this.c.dataSrc=b;this.s.dataFn=e.ext.oApi._fnGetObjectDataFn(this.c.dataSrc);c(a.table().node()).triggerHandler("rowgroup-datasrc.dt",[a,b]);return this},disable:function(){this.c.enable=!1;return this},enable:function(b){if(!1===
b)return this.disable();this.c.enable=!0;return this},_constructor:function(){var b=this,a=this.s.dt,c=[];a.rows().every(function(){var a=this.data(),a=b.s.dataFn(a);-1==c.indexOf(a)&&c.push(a)});if(1<c.length||!this.c.hideIfSame)a.on("draw.dtrg",function(){b.c.enable&&b._draw()}),a.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",function(){b._adjustColspan()}),a.on("destroy",function(){a.off(".dtrg")})},_adjustColspan:function(){c("tr."+this.c.className,this.s.dt.table().body()).attr("colspan",
this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce(function(b,a){return b+a},0)},_draw:function(){var b=this,a=this.s.dt,c=[],e,d;a.rows({page:"current"}).every(function(){var a=this.data(),a=b.s.dataFn(a);if(null===a||a===h)a=b.c.emptyDataGroup;if(e===h||a!==e)c.push([]),e=a;c[c.length-1].push(this.index())});for(var g=0,f=c.length;g<f;g++){var i=c[g],l=a.row(i[0]),m=this.s.dataFn(l.data());this.c.startRender&&(d=this.c.startRender.call(this,a.rows(i),m),this._rowWrap(d,
this.c.startClassName).insertBefore(l.node()));this.c.endRender&&(d=this.c.endRender.call(this,a.rows(i),m),this._rowWrap(d,this.c.endClassName).insertAfter(a.row(i[i.length-1]).node()))}},_rowWrap:function(b,a){if(null===b||b===h)b=this.c.emptyDataGroup;return("object"===typeof b&&b.nodeName&&"tr"===b.nodeName.toLowerCase()?c(b):b instanceof c&&b.length&&"tr"===b[0].nodeName.toLowerCase()?b:c("<tr/>").append(c("<td/>").attr("colspan",this._colspan()).append(b))).addClass(this.c.className).addClass(a)}});
g.defaults={className:"group",dataSrc:0,emptyDataGroup:"No group",enable:!0,hideIfSame:!1,endClassName:"group-end",endRender:null,startClassName:"group-start",startRender:function(b,a){return a}};g.version="1.0.3-dev";c.fn.dataTable.RowGroup=g;c.fn.DataTable.RowGroup=g;e.Api.register("rowGroup()",function(){return this});e.Api.register("rowGroup().disable()",function(){return this.iterator("table",function(b){b.rowGroup&&b.rowGroup.enable(!1)})});e.Api.register("rowGroup().enable()",function(b){return this.iterator("table",
function(a){a.rowGroup&&a.rowGroup.enable(b===h?!0:b)})});e.Api.register("rowGroup().dataSrc()",function(b){return b===h?this.context[0].rowGroup.dataSrc():this.iterator("table",function(a){a.rowGroup&&a.rowGroup.dataSrc(b)})});c(f).on("preInit.dt.dtrg",function(b,a){if("dt"===b.namespace){var d=a.oInit.rowGroup,f=e.defaults.rowGroup;if(d||f)f=c.extend({},f,d),!1!==d&&new g(a,f)}});return g});
